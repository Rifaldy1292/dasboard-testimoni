[
  {
    "id": "10b3ef7af9388b5a",
    "type": "tab",
    "label": "publish to local mqtt",
    "disabled": false,
    "info": "",
    "env": []
  },
  {
    "id": "57d6b85b856eedbc",
    "type": "debug",
    "z": "10b3ef7af9388b5a",
    "name": "debug 3",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "payload",
    "targetType": "msg",
    "statusVal": "",
    "statusType": "auto",
    "x": 1000,
    "y": 2320,
    "wires": []
  },
  {
    "id": "a0341083f6c66174",
    "type": "function",
    "z": "10b3ef7af9388b5a",
    "name": "function 3",
    "func": "const state = msg.payload.value[0].value.value\nconst transfer_file_id = msg.payload.value[1].value.value\n\n\nconst runningValue = 3\nconst runningValue2 = 768\nconst runningCondition = state === runningValue || state === runningValue2\nconst status = runningCondition ? \"Running\" : \"Stopped\"\nconst name = 'MC-10'\n\nconst safeParseInt = (value) => {\n    return (value === null || value === undefined || isNaN(value)) ? 0 : parseInt(value);\n};\n\nmsg.payload = {\n    name,\n    status,\n    transfer_file_id: safeParseInt(transfer_file_id),\n    state: safeParseInt(state), \n    ipAddress: \"192.168.1.11\",\n}\n\n\nif (state === undefined) {\n    msg.payload.status = 'DISCONNECT'\n    node.error(`${name} disconnect`, msg);\n}\n\n\n\nreturn msg;\n",
    "outputs": 1,
    "timeout": 0,
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "libs": [],
    "x": 640,
    "y": 2260,
    "wires": [["57d6b85b856eedbc", "178f371182a56cc3", "5f14e9e44b33f247"]]
  },
  {
    "id": "178f371182a56cc3",
    "type": "mqtt out",
    "z": "10b3ef7af9388b5a",
    "name": "",
    "topic": "mc-10/data",
    "qos": "2",
    "retain": "",
    "respTopic": "",
    "contentType": "",
    "userProps": "",
    "correl": "",
    "expiry": "",
    "broker": "281bb8063a85bef9",
    "x": 850,
    "y": 2280,
    "wires": []
  },
  {
    "id": "2583efc8c1568dec",
    "type": "debug",
    "z": "10b3ef7af9388b5a",
    "name": "debug 5",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "payload",
    "targetType": "msg",
    "statusVal": "",
    "statusType": "auto",
    "x": 1020,
    "y": 2720,
    "wires": []
  },
  {
    "id": "407241cc1eea60a2",
    "type": "function",
    "z": "10b3ef7af9388b5a",
    "name": "function 5",
    "func": "const state = msg.payload.value[0].value.value\nconst transfer_file_id = msg.payload.value[1].value.value\n\nconst runningValue = 3\nconst runningValue2 = 768\nconst runningCondition = state === runningValue || state === runningValue2\nconst status = runningCondition ? \"Running\" : \"Stopped\"\nconst name = 'MC-14'\n\n\nconst safeParseInt = (value) => {\n    return (value === null || value === undefined || isNaN(value)) ? 0 : parseInt(value);\n};\n\nmsg.payload = {\n    name,\n    status,\n    transfer_file_id: safeParseInt(transfer_file_id),\n    state: safeParseInt(state),\n    ipAddress: \"192.168.1.14\", \n}\n\n\nif (state === undefined) {\n    msg.payload.status = 'DISCONNECT'\n    node.error(`${name} disconnect`, msg);\n}\n\n\nreturn msg;\n",
    "outputs": 1,
    "timeout": 0,
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "libs": [],
    "x": 660,
    "y": 2640,
    "wires": [["2583efc8c1568dec", "52cf62d9b9b40cc0", "5f14e9e44b33f247"]]
  },
  {
    "id": "52cf62d9b9b40cc0",
    "type": "mqtt out",
    "z": "10b3ef7af9388b5a",
    "name": "",
    "topic": "mc-14/data",
    "qos": "2",
    "retain": "",
    "respTopic": "",
    "contentType": "",
    "userProps": "",
    "correl": "",
    "expiry": "",
    "broker": "281bb8063a85bef9",
    "x": 870,
    "y": 2680,
    "wires": []
  },
  {
    "id": "090f9520118be00a",
    "type": "debug",
    "z": "10b3ef7af9388b5a",
    "name": "debug 7",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "payload",
    "targetType": "msg",
    "statusVal": "",
    "statusType": "auto",
    "x": 1000,
    "y": 3160,
    "wires": []
  },
  {
    "id": "a8b3ebbff49017c8",
    "type": "function",
    "z": "10b3ef7af9388b5a",
    "name": "function 7",
    "func": "const state = msg.payload.value[0].value.value\nconst transfer_file_id = msg.payload.value[1].value.value\n\nconst runningValue = 3\nconst runningValue2 = 768\nconst runningCondition = state === runningValue || state === runningValue2\nconst status = runningCondition ? \"Running\" : \"Stopped\"\nconst name = 'MC-15'\n\nconst safeParseInt = (value) => {\n    return (value === null || value === undefined || isNaN(value)) ? 0 : parseInt(value);\n};\n\nmsg.payload = {\n    name,\n    status,\n    transfer_file_id: safeParseInt(transfer_file_id),\n    state: safeParseInt(state), \n    ipAddress: \"192.168.1.15\",\n}\n\n\nif (state === undefined) {\n    msg.payload.status = 'DISCONNECT'\n    node.error(`${name} disconnect`, msg);\n}\nreturn msg;\n",
    "outputs": 1,
    "timeout": 0,
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "libs": [],
    "x": 640,
    "y": 3100,
    "wires": [["090f9520118be00a", "f54f132135bacbab", "5f14e9e44b33f247"]]
  },
  {
    "id": "f54f132135bacbab",
    "type": "mqtt out",
    "z": "10b3ef7af9388b5a",
    "name": "",
    "topic": "mc-15/data",
    "qos": "2",
    "retain": "",
    "respTopic": "",
    "contentType": "",
    "userProps": "",
    "correl": "",
    "expiry": "",
    "broker": "281bb8063a85bef9",
    "x": 850,
    "y": 3120,
    "wires": []
  },
  {
    "id": "29069601e377e4e3",
    "type": "debug",
    "z": "10b3ef7af9388b5a",
    "name": "debug 9",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "payload",
    "targetType": "msg",
    "statusVal": "",
    "statusType": "auto",
    "x": 1020,
    "y": 3460,
    "wires": []
  },
  {
    "id": "7293ef91fc3438c3",
    "type": "function",
    "z": "10b3ef7af9388b5a",
    "name": "function 9",
    "func": "const state = msg.payload.value[0].value.value\nconst transfer_file_id = msg.payload.value[1].value.value\n\nconst runningValue = 3\nconst runningValue2 = 768\nconst runningCondition = state === runningValue || state === runningValue2\nconst status = runningCondition ? \"Running\" : \"Stopped\"\nconst name = 'MC-16'\n\n\n\nconst safeParseInt = (value) => {\n    return (value === null || value === undefined || isNaN(value)) ? 0 : parseInt(value);\n};\n\nmsg.payload = {\n    name,\n    status,\n    transfer_file_id: safeParseInt(transfer_file_id),\n    state: safeParseInt(state),\n    ipAddress: \"192.168.1.116\", \n}\n\n\nif (state === undefined) {\n    msg.payload.status = 'DISCONNECT'\n    node.error(`${name} disconnect`, msg);\n}\n\nreturn msg;\n",
    "outputs": 1,
    "timeout": 0,
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "libs": [],
    "x": 620,
    "y": 3500,
    "wires": [["29069601e377e4e3", "3554b30ec7523753", "5f14e9e44b33f247"]]
  },
  {
    "id": "3554b30ec7523753",
    "type": "mqtt out",
    "z": "10b3ef7af9388b5a",
    "name": "",
    "topic": "mc-16/data",
    "qos": "2",
    "retain": "",
    "respTopic": "",
    "contentType": "",
    "userProps": "",
    "correl": "",
    "expiry": "",
    "broker": "281bb8063a85bef9",
    "x": 810,
    "y": 3420,
    "wires": []
  },
  {
    "id": "fd9ec3bdd29db2f7",
    "type": "debug",
    "z": "10b3ef7af9388b5a",
    "name": "debug 11",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "payload",
    "targetType": "msg",
    "statusVal": "",
    "statusType": "auto",
    "x": 1040,
    "y": 660,
    "wires": []
  },
  {
    "id": "4a73688abda770eb",
    "type": "function",
    "z": "10b3ef7af9388b5a",
    "name": "function 11",
    "func": "const state = msg.payload.value[0].value.value\nconst transfer_file_id = msg.payload.value[1].value.value\n\nconst runningValue = 3\nconst runningValue2 = 768\nconst runningCondition = state === runningValue || state === runningValue2\nconst status = runningCondition ? \"Running\" : \"Stopped\"\nconst name = 'MC-4'\n\nconst safeParseInt = (value) => {\n    return (value === null || value === undefined || isNaN(value)) ? 0 : parseInt(value);\n};\n\nmsg.payload = {\n    name,\n    status,\n    transfer_file_id: safeParseInt(transfer_file_id),\n    state: safeParseInt(state), \n    ipAddress: \"192.168.1.4\",\n}\n\n\nif (state === undefined) {\n    msg.payload.status = 'DISCONNECT'\n    node.error(`${name} disconnect`, msg);\n}\n\n\n\n\nreturn msg;\n",
    "outputs": 1,
    "timeout": 0,
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "libs": [],
    "x": 710,
    "y": 500,
    "wires": [["fd9ec3bdd29db2f7", "94ace5560703ddaa", "5f14e9e44b33f247"]]
  },
  {
    "id": "94ace5560703ddaa",
    "type": "mqtt out",
    "z": "10b3ef7af9388b5a",
    "name": "",
    "topic": "mc-4/data",
    "qos": "2",
    "retain": "",
    "respTopic": "",
    "contentType": "",
    "userProps": "",
    "correl": "",
    "expiry": "",
    "broker": "281bb8063a85bef9",
    "x": 880,
    "y": 620,
    "wires": []
  },
  {
    "id": "427fe728828b5cb7",
    "type": "debug",
    "z": "10b3ef7af9388b5a",
    "name": "debug 13",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "payload",
    "targetType": "msg",
    "statusVal": "",
    "statusType": "auto",
    "x": 1040,
    "y": 1020,
    "wires": []
  },
  {
    "id": "c786a7c04ef10559",
    "type": "function",
    "z": "10b3ef7af9388b5a",
    "name": "function 13",
    "func": "const state = msg.payload.value[0].value.value\nconst transfer_file_id = msg.payload.value[1].value.value\n\nconst runningValue = 3\nconst runningValue2 = 768\nconst runningCondition = state === runningValue || state === runningValue2\nconst status = runningCondition ? \"Running\" : \"Stopped\"\nconst name = 'MC-5'\n\nconst safeParseInt = (value) => {\n    return (value === null || value === undefined || isNaN(value)) ? 0 : parseInt(value);\n};\n\nmsg.payload = {\n    name,\n    status,\n    transfer_file_id: safeParseInt(transfer_file_id),\n    state: safeParseInt(state),\n    ipAddress: \"192.168.1.5\",\n}\n\n\nif (state === undefined) {\n    msg.payload.status = 'DISCONNECT'\n    node.error(`${name} disconnect`, msg);\n}\n\n// msg.payload = {state}\nreturn msg;\n",
    "outputs": 1,
    "timeout": 0,
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "libs": [],
    "x": 680,
    "y": 940,
    "wires": [["427fe728828b5cb7", "7fecdf28c85b4cfe", "5f14e9e44b33f247"]]
  },
  {
    "id": "7fecdf28c85b4cfe",
    "type": "mqtt out",
    "z": "10b3ef7af9388b5a",
    "name": "",
    "topic": "mc-5/data",
    "qos": "2",
    "retain": "",
    "respTopic": "",
    "contentType": "",
    "userProps": "",
    "correl": "",
    "expiry": "",
    "broker": "281bb8063a85bef9",
    "x": 880,
    "y": 980,
    "wires": []
  },
  {
    "id": "b42db2306a5d4e28",
    "type": "debug",
    "z": "10b3ef7af9388b5a",
    "name": "debug 17",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "payload",
    "targetType": "msg",
    "statusVal": "",
    "statusType": "auto",
    "x": 1060,
    "y": 1500,
    "wires": []
  },
  {
    "id": "42790ec5edcd955c",
    "type": "function",
    "z": "10b3ef7af9388b5a",
    "name": "function 17",
    "func": "const state = msg.payload.value[0].value.value\nconst transfer_file_id = msg.payload.value[1].value.value\n\nconst runningValue = 3\nconst runningValue2 = 768\nconst runningCondition = state === runningValue || state === runningValue2\nconst status = runningCondition ? \"Running\" : \"Stopped\"\nconst name = 'MC-6'\n\nconst safeParseInt = (value) => {\n    return (value === null || value === undefined || isNaN(value)) ? 0 : parseInt(value);\n};\n\nmsg.payload = {\n    name,\n    status,\n    transfer_file_id: safeParseInt(transfer_file_id),\n    state: safeParseInt(state), \n    ipAddress: \"192.168.1.6\",\n}\n\n\nif (state === undefined) {\n    msg.payload.status = 'DISCONNECT'\n    node.error(`${name} disconnect`, msg);\n}\n\n\n\nreturn msg;\n",
    "outputs": 1,
    "timeout": 0,
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "libs": [],
    "x": 700,
    "y": 1420,
    "wires": [["b42db2306a5d4e28", "547645f8066de01b", "5f14e9e44b33f247"]]
  },
  {
    "id": "547645f8066de01b",
    "type": "mqtt out",
    "z": "10b3ef7af9388b5a",
    "name": "",
    "topic": "mc-6/data",
    "qos": "2",
    "retain": "",
    "respTopic": "",
    "contentType": "",
    "userProps": "",
    "correl": "",
    "expiry": "",
    "broker": "281bb8063a85bef9",
    "x": 900,
    "y": 1460,
    "wires": []
  },
  {
    "id": "206bc44f211decc8",
    "type": "debug",
    "z": "10b3ef7af9388b5a",
    "name": "debug 1",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "payload",
    "targetType": "jsonata",
    "statusVal": "",
    "statusType": "auto",
    "x": 1040,
    "y": 2080,
    "wires": []
  },
  {
    "id": "c6cfa5113eb17a77",
    "type": "function",
    "z": "10b3ef7af9388b5a",
    "name": "function 1",
    "func": "const state = msg.payload.value[0].value.value\nconst transfer_file_id = msg.payload.value[1].value.value\n\nconst name = \"MC-9\"\n\n\nconst runningValue = 3\nconst runningValue2 = 768\nconst runningCondition = state === runningValue || state === runningValue2\nconst status = runningCondition ? \"Running\" : \"Stopped\"\n\n\nconst safeParseInt = (value) => {\n    return (value === null || value === undefined || isNaN(value)) ? 0 : parseInt(value);\n};\n\nmsg.payload = {\n    name,\n    status,\n    transfer_file_id: safeParseInt(transfer_file_id),\n    state: safeParseInt(state),\n    ipAddress: \"192.168.1.9\",\n}\n\n\nif (state === undefined) {\n    msg.payload.status = 'DISCONNECT'\n    node.error(`${name} disconnect`, msg);\n}\n\n\nreturn msg;\n",
    "outputs": 1,
    "timeout": 0,
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "libs": [],
    "x": 660,
    "y": 2040,
    "wires": [["206bc44f211decc8", "4e4b664e92233c29", "5f14e9e44b33f247"]]
  },
  {
    "id": "4e4b664e92233c29",
    "type": "mqtt out",
    "z": "10b3ef7af9388b5a",
    "name": "",
    "topic": "mc-9/data",
    "qos": "2",
    "retain": "",
    "respTopic": "",
    "contentType": "",
    "userProps": "",
    "correl": "",
    "expiry": "",
    "broker": "281bb8063a85bef9",
    "x": 880,
    "y": 2020,
    "wires": []
  },
  {
    "id": "c0670cc3b74812ff",
    "type": "debug",
    "z": "10b3ef7af9388b5a",
    "name": "debug 15",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "payload",
    "targetType": "msg",
    "statusVal": "",
    "statusType": "auto",
    "x": 1040,
    "y": 160,
    "wires": []
  },
  {
    "id": "bb48a120ef98eabb",
    "type": "function",
    "z": "10b3ef7af9388b5a",
    "name": "function 15",
    "func": "const state = msg.payload.value[0].value\nconst transfer_file_id = msg.payload.value[1].value\n\n\n\nconst runningValue = 3\nconst runningValue2 = 768\nconst runningCondition = state === runningValue || state === runningValue2\nconst status = runningCondition ? \"Running\" : \"Stopped\"\nconst name = 'MC-1'\nconst disconnect = state === undefined\n\nconst safeParseInt = (value) => {\n    return (value === null || value === undefined || isNaN(value)) ? 0 : parseInt(value);\n};\n\nmsg.payload = {\n    name,\n    status,\n    transfer_file_id: safeParseInt(transfer_file_id),\n    state: safeParseInt(state),\n    ipAddress: \"192.168.1.1\",\n}\n\n\nif (state === undefined) {\n    msg.payload.status = 'DISCONNECT'\n    node.error(`${name} disconnect`, msg);\n}\n\n\nreturn msg;\n",
    "outputs": 1,
    "timeout": 0,
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "libs": [],
    "x": 690,
    "y": 100,
    "wires": [["c0670cc3b74812ff", "234b4b95779de1ce", "5f14e9e44b33f247"]]
  },
  {
    "id": "234b4b95779de1ce",
    "type": "mqtt out",
    "z": "10b3ef7af9388b5a",
    "name": "",
    "topic": "mc-1/data",
    "qos": "2",
    "retain": "",
    "respTopic": "",
    "contentType": "",
    "userProps": "",
    "correl": "",
    "expiry": "",
    "broker": "281bb8063a85bef9",
    "x": 940,
    "y": 40,
    "wires": []
  },
  {
    "id": "576e80eb247a736a",
    "type": "debug",
    "z": "10b3ef7af9388b5a",
    "name": "debug 19",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "payload",
    "targetType": "msg",
    "statusVal": "",
    "statusType": "auto",
    "x": 1010,
    "y": 1840,
    "wires": []
  },
  {
    "id": "2337a25795251b7c",
    "type": "function",
    "z": "10b3ef7af9388b5a",
    "name": "function 19",
    "func": "const state = msg.payload.value[0].value.value\nconst transfer_file_id = msg.payload.value[1].value.value\n\nconst runningValue = 3\nconst runningValue2 = 768\nconst runningCondition = state === runningValue || state === runningValue2\nconst status = runningCondition ? \"Running\" : \"Stopped\"\nconst name = 'MC-8'\n\n\nconst safeParseInt = (value) => {\n    return (value === null || value === undefined || isNaN(value)) ? 0 : parseInt(value);\n};\n\nmsg.payload = {\n    name,\n    status,\n    transfer_file_id: safeParseInt(transfer_file_id),\n    state: safeParseInt(state),\n    ipAddress: \"192.168.1.8\", \n}\n\n\nif (state === undefined) {\n    msg.payload.status = 'DISCONNECT'\n    node.error(`${name} disconnect`, msg);\n}\n\n\n\nreturn msg;\n",
    "outputs": 1,
    "timeout": 0,
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "libs": [],
    "x": 650,
    "y": 1760,
    "wires": [["576e80eb247a736a", "15300aa43a36cc0d", "5f14e9e44b33f247"]]
  },
  {
    "id": "15300aa43a36cc0d",
    "type": "mqtt out",
    "z": "10b3ef7af9388b5a",
    "name": "",
    "topic": "mc-8/data",
    "qos": "2",
    "retain": "",
    "respTopic": "",
    "contentType": "",
    "userProps": "",
    "correl": "",
    "expiry": "",
    "broker": "281bb8063a85bef9",
    "x": 850,
    "y": 1800,
    "wires": []
  },
  {
    "id": "d4d5c5f3f20aeee4",
    "type": "catch",
    "z": "10b3ef7af9388b5a",
    "name": "",
    "scope": null,
    "uncaught": false,
    "x": 1180,
    "y": 80,
    "wires": [["99263d840f9c8d47"]]
  },
  {
    "id": "0644670fb0e94f8f",
    "type": "debug",
    "z": "10b3ef7af9388b5a",
    "name": "error handler",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "payload",
    "targetType": "msg",
    "statusVal": "",
    "statusType": "auto",
    "x": 1710,
    "y": 60,
    "wires": []
  },
  {
    "id": "99263d840f9c8d47",
    "type": "function",
    "z": "10b3ef7af9388b5a",
    "name": "handleError",
    "func": "\nreturn msg;",
    "outputs": 1,
    "timeout": 0,
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "libs": [],
    "x": 1430,
    "y": 80,
    "wires": [["0644670fb0e94f8f"]]
  },
  {
    "id": "1d8418500f8982fb",
    "type": "debug",
    "z": "10b3ef7af9388b5a",
    "name": "debug 2",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "payload",
    "targetType": "msg",
    "statusVal": "",
    "statusType": "auto",
    "x": 1040,
    "y": 340,
    "wires": []
  },
  {
    "id": "d233b39f3ff9b592",
    "type": "function",
    "z": "10b3ef7af9388b5a",
    "name": "function 2",
    "func": "const state = msg.payload.value[0].value\nconst transfer_file_id = msg.payload.value[1].value \n\nconst runningValue = 3\nconst runningValue2 = 768\nconst runningCondition = state === runningValue || state === runningValue2\nconst status = runningCondition ? \"Running\" : \"Stopped\"\nconst name = 'MC-2'\nconst disconnect = state === undefined \n\nconst safeParseInt = (value) => {\n    return (value === null || value === undefined || isNaN(value)) ? 0 : parseInt(value);\n};\n\nmsg.payload = {\n    name,\n    status,\n    transfer_file_id: safeParseInt(transfer_file_id),\n    state: safeParseInt(state),\n    ipAddress: \"192.168.1.222\",\n}\n\n\nif (state === undefined) {\n    msg.payload.status = 'DISCONNECT'\n    node.error(`${name} disconnect`, msg);\n}\n\n\n// msg.payload = {state}\n\nreturn msg;\n",
    "outputs": 1,
    "timeout": 0,
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "libs": [],
    "x": 680,
    "y": 240,
    "wires": [["1d8418500f8982fb", "0dba9114f95b7303", "5f14e9e44b33f247"]]
  },
  {
    "id": "0dba9114f95b7303",
    "type": "mqtt out",
    "z": "10b3ef7af9388b5a",
    "name": "",
    "topic": "mc-2/data",
    "qos": "2",
    "retain": "",
    "respTopic": "",
    "contentType": "",
    "userProps": "",
    "correl": "",
    "expiry": "",
    "broker": "281bb8063a85bef9",
    "x": 920,
    "y": 240,
    "wires": []
  },
  {
    "id": "72910a0c235d172d",
    "type": "debug",
    "z": "10b3ef7af9388b5a",
    "name": "debug 4",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "payload",
    "targetType": "msg",
    "statusVal": "",
    "statusType": "auto",
    "x": 1060,
    "y": 440,
    "wires": []
  },
  {
    "id": "9e662174f2c6f6e5",
    "type": "function",
    "z": "10b3ef7af9388b5a",
    "name": "function 4",
    "func": "const state = msg.payload.value[0].value\nconst transfer_file_id = msg.payload.value[1].value\n\nconst runningValue = 3\nconst runningValue2 = 768\nconst runningCondition = state === runningValue || state === runningValue2\nconst status = runningCondition ? \"Running\" : \"Stopped\"\nconst name = 'MC-3'\nconst disconnect = state === undefined \n\nconst safeParseInt = (value) => {\n    return (value === null || value === undefined || isNaN(value)) ? 0 : parseInt(value);\n};\n\nmsg.payload = {\n    name,\n    status,\n    transfer_file_id: safeParseInt(transfer_file_id),\n    state: safeParseInt(state),\n    ipAddress: \"192.168.1.3\",\n    }\n\n\nif (state === undefined) {\n    msg.payload.status = 'DISCONNECT'\n    node.error(`${name} disconnect`, msg);\n}\n\n\n\nreturn msg;\n",
    "outputs": 1,
    "timeout": 0,
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "libs": [],
    "x": 720,
    "y": 360,
    "wires": [["72910a0c235d172d", "6a139dfc18c71c81", "5f14e9e44b33f247"]]
  },
  {
    "id": "6a139dfc18c71c81",
    "type": "mqtt out",
    "z": "10b3ef7af9388b5a",
    "name": "",
    "topic": "mc-3/data",
    "qos": "2",
    "retain": "",
    "respTopic": "",
    "contentType": "",
    "userProps": "",
    "correl": "",
    "expiry": "",
    "broker": "281bb8063a85bef9",
    "x": 860,
    "y": 440,
    "wires": []
  },
  {
    "id": "5f14e9e44b33f247",
    "type": "function",
    "z": "10b3ef7af9388b5a",
    "name": "Logger status",
    "func": "const {name, status} = msg.payload\n\nmsg.payload={\ntimestamp: new Date().toLocaleString('id-ID'),\nname, status,\n}\nreturn msg;",
    "outputs": 1,
    "timeout": 0,
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "libs": [],
    "x": 1840,
    "y": 420,
    "wires": [["108073234290ca1d", "cbcbced5de2cc0fd"]]
  },
  {
    "id": "cbcbced5de2cc0fd",
    "type": "debug",
    "z": "10b3ef7af9388b5a",
    "name": "debug 6",
    "active": false,
    "tosidebar": true,
    "console": false,
    "tostatus": false,
    "complete": "payload",
    "targetType": "msg",
    "statusVal": "",
    "statusType": "auto",
    "x": 2120,
    "y": 380,
    "wires": []
  },
  {
    "id": "a17506fddb6c8d44",
    "type": "file",
    "z": "10b3ef7af9388b5a",
    "name": "LOG",
    "filename": "D:\\dashboard-machine\\node_red_logs\\LOG.log",
    "filenameType": "str",
    "appendNewline": true,
    "createDir": true,
    "overwriteFile": "false",
    "encoding": "setbymsg",
    "x": 2170,
    "y": 760,
    "wires": [[]]
  },
  {
    "id": "108073234290ca1d",
    "type": "function",
    "z": "10b3ef7af9388b5a",
    "name": "log if hours = 05 | 06| 17| 18| 23 | 0",
    "func": "const allowedHours = [5, 6, 17, 18, 23, 0 ];\nconst currentHour = new Date().getHours();\n\nif (!allowedHours.includes(currentHour)) {\n    return null; \n}\n\nreturn msg;",
    "outputs": 1,
    "timeout": 0,
    "noerr": 0,
    "initialize": "",
    "finalize": "",
    "libs": [],
    "x": 2000,
    "y": 580,
    "wires": [["a17506fddb6c8d44"]]
  },
  {
    "id": "43880f0f544a3192",
    "type": "OPCUA-IIoT-Inject",
    "z": "10b3ef7af9388b5a",
    "injectType": "inject",
    "payload": "",
    "payloadType": "date",
    "topic": "",
    "repeat": "1",
    "crontab": "",
    "once": false,
    "startDelay": "",
    "name": "mc-10",
    "addressSpaceItems": [
      {
        "name": "running_state",
        "nodeId": "ns=2;g=9b7185a4-e709-49b1-a511-47465e7cd315",
        "datatypeName": ""
      },
      {
        "name": "TRANSFER_FILE_ID",
        "nodeId": "",
        "datatypeName": ""
      }
    ],
    "x": 120,
    "y": 2140,
    "wires": [["15af7c168ae81341"]]
  },
  {
    "id": "562cdd4bca45c512",
    "type": "OPCUA-IIoT-Inject",
    "z": "10b3ef7af9388b5a",
    "injectType": "inject",
    "payload": "",
    "payloadType": "date",
    "topic": "",
    "repeat": "1",
    "crontab": "",
    "once": false,
    "startDelay": "",
    "name": "mc-14",
    "addressSpaceItems": [
      {
        "name": "running_state",
        "nodeId": "ns=2;g=3609fd8e-ce82-4bf0-af9c-625dbda3f45c",
        "datatypeName": ""
      },
      {
        "name": "TRANSFER_FILE_ID",
        "nodeId": "",
        "datatypeName": ""
      }
    ],
    "x": 140,
    "y": 2540,
    "wires": [["cbb441d6b593ccd0"]]
  },
  {
    "id": "7959324dff54745f",
    "type": "OPCUA-IIoT-Inject",
    "z": "10b3ef7af9388b5a",
    "injectType": "inject",
    "payload": "",
    "payloadType": "date",
    "topic": "",
    "repeat": "1",
    "crontab": "",
    "once": false,
    "startDelay": "",
    "name": "mc-15",
    "addressSpaceItems": [
      {
        "name": "running_state",
        "nodeId": "ns=2;g=a91c44d9-c7e2-4c67-a514-ed0f10fdb471",
        "datatypeName": ""
      },
      {
        "name": "TRANSFER_FILE_ID",
        "nodeId": "",
        "datatypeName": ""
      }
    ],
    "x": 120,
    "y": 2980,
    "wires": [["de8fcdc8c6878e80"]]
  },
  {
    "id": "b708df822eda1c9f",
    "type": "OPCUA-IIoT-Inject",
    "z": "10b3ef7af9388b5a",
    "injectType": "inject",
    "payload": "",
    "payloadType": "date",
    "topic": "",
    "repeat": "1",
    "crontab": "",
    "once": false,
    "startDelay": "",
    "name": "mc-16",
    "addressSpaceItems": [
      {
        "name": "running_state",
        "nodeId": "ns=2;g=ec8fc5d6-69fc-4e0a-b4e0-45343f70cbef",
        "datatypeName": ""
      },
      {
        "name": "TRANSFER_FILE_ID",
        "nodeId": "",
        "datatypeName": ""
      }
    ],
    "x": 100,
    "y": 3400,
    "wires": [["c1d56db2b2dd80b4"]]
  },
  {
    "id": "53b1ca43cc8fd2f7",
    "type": "OPCUA-IIoT-Inject",
    "z": "10b3ef7af9388b5a",
    "injectType": "inject",
    "payload": "",
    "payloadType": "date",
    "topic": "",
    "repeat": "1",
    "crontab": "",
    "once": false,
    "startDelay": "",
    "name": "mc-4",
    "addressSpaceItems": [
      {
        "name": "running_state",
        "nodeId": "ns=2;g=2ecff197-6a2d-4e87-bfb5-2af1077b09d5",
        "datatypeName": ""
      },
      {
        "name": "TRANSFER_FILE_ID",
        "nodeId": "",
        "datatypeName": ""
      }
    ],
    "x": 150,
    "y": 480,
    "wires": [["a7410cc13a178ccd"]]
  },
  {
    "id": "5feb90cadfc896d3",
    "type": "OPCUA-IIoT-Inject",
    "z": "10b3ef7af9388b5a",
    "injectType": "inject",
    "payload": "",
    "payloadType": "date",
    "topic": "",
    "repeat": "1",
    "crontab": "",
    "once": false,
    "startDelay": "",
    "name": "mc-5",
    "addressSpaceItems": [
      {
        "name": "running_state",
        "nodeId": "ns=2;g=e5b29816-d85d-45c5-a1c8-e65d3deae6bd",
        "datatypeName": ""
      },
      {
        "name": "TRANSFER_FILE_ID",
        "nodeId": "",
        "datatypeName": ""
      }
    ],
    "x": 150,
    "y": 840,
    "wires": [["9bc1abc59f941484"]]
  },
  {
    "id": "4c617ae001f611e5",
    "type": "OPCUA-IIoT-Inject",
    "z": "10b3ef7af9388b5a",
    "injectType": "inject",
    "payload": "",
    "payloadType": "date",
    "topic": "",
    "repeat": "1",
    "crontab": "",
    "once": false,
    "startDelay": "",
    "name": "mc-6",
    "addressSpaceItems": [
      {
        "name": "running_state",
        "nodeId": "ns=2;g=4324bcfb-a756-41f7-a633-4af3122ed729",
        "datatypeName": ""
      },
      {
        "name": "TRANSFER_FILE_ID",
        "nodeId": "",
        "datatypeName": ""
      }
    ],
    "x": 170,
    "y": 1320,
    "wires": [["a2150bafa4dba632"]]
  },
  {
    "id": "f79a5645313a64cc",
    "type": "OPCUA-IIoT-Inject",
    "z": "10b3ef7af9388b5a",
    "injectType": "inject",
    "payload": "",
    "payloadType": "date",
    "topic": "",
    "repeat": "1",
    "crontab": "",
    "once": false,
    "startDelay": "",
    "name": "m-9",
    "addressSpaceItems": [
      {
        "name": "running_state",
        "nodeId": "ns=2;g=dfaa012d-902c-4e51-b812-56b5df1ab6d8",
        "datatypeName": ""
      },
      {
        "name": "TRANSFER_FILE_ID",
        "nodeId": "",
        "datatypeName": ""
      }
    ],
    "x": 110,
    "y": 2000,
    "wires": [["355c7522ceb0ec6e"]]
  },
  {
    "id": "9ae32af76040c921",
    "type": "OPCUA-IIoT-Inject",
    "z": "10b3ef7af9388b5a",
    "injectType": "inject",
    "payload": "",
    "payloadType": "date",
    "topic": "",
    "repeat": "1",
    "crontab": "",
    "once": false,
    "startDelay": "",
    "name": "mc-1",
    "addressSpaceItems": [
      {
        "name": "running_state",
        "nodeId": "ns=2;g=04703049-2f00-4d22-b5a5-b8e73b1aefc9",
        "datatypeName": ""
      },
      {
        "name": "TRANSFER_FILE_ID",
        "nodeId": "",
        "datatypeName": ""
      }
    ],
    "x": 150,
    "y": 40,
    "wires": [["c46670079b413678"]]
  },
  {
    "id": "f9aab019a3ad505e",
    "type": "OPCUA-IIoT-Inject",
    "z": "10b3ef7af9388b5a",
    "injectType": "inject",
    "payload": "",
    "payloadType": "date",
    "topic": "",
    "repeat": "1",
    "crontab": "",
    "once": false,
    "startDelay": "",
    "name": "mc-8",
    "addressSpaceItems": [
      {
        "name": "running_state",
        "nodeId": "ns=2;g=24f0072f-e7dd-40ec-ac9d-cb8c8d3a3ded",
        "datatypeName": ""
      },
      {
        "name": "TRANSFER_FILE_ID",
        "nodeId": "",
        "datatypeName": ""
      }
    ],
    "x": 120,
    "y": 1660,
    "wires": [["9f72eed396ccb647"]]
  },
  {
    "id": "3b00fe99bcfacebf",
    "type": "OPCUA-IIoT-Inject",
    "z": "10b3ef7af9388b5a",
    "injectType": "inject",
    "payload": "",
    "payloadType": "date",
    "topic": "",
    "repeat": "1",
    "crontab": "",
    "once": false,
    "startDelay": "",
    "name": "mc-2",
    "addressSpaceItems": [
      {
        "name": "running_state",
        "nodeId": "ns=2;g=e599ec07-4a5e-458d-aa1e-c0aeb440de0a",
        "datatypeName": ""
      },
      {
        "name": "TRANSFER_FILE_ID",
        "nodeId": "",
        "datatypeName": ""
      }
    ],
    "x": 150,
    "y": 140,
    "wires": [["fcacaac3efecb766"]]
  },
  {
    "id": "5e0cf2daf522fe7e",
    "type": "OPCUA-IIoT-Inject",
    "z": "10b3ef7af9388b5a",
    "injectType": "inject",
    "payload": "",
    "payloadType": "date",
    "topic": "",
    "repeat": "1",
    "crontab": "",
    "once": false,
    "startDelay": "",
    "name": "mc-3",
    "addressSpaceItems": [
      {
        "name": "running_state",
        "nodeId": "ns=2;g=16c2a3a3-0706-4537-85a6-ed143e10d558",
        "datatypeName": ""
      },
      {
        "name": "TRANSFER_FILE_ID",
        "nodeId": "",
        "datatypeName": ""
      }
    ],
    "x": 150,
    "y": 320,
    "wires": [["f363911b72bbda7a"]]
  },
  {
    "id": "c1d56db2b2dd80b4",
    "type": "OPCUA-IIoT-Read",
    "z": "10b3ef7af9388b5a",
    "attributeId": "13",
    "maxAge": 1,
    "depth": 1,
    "connector": "8402a36728a1a1f8",
    "name": "",
    "justValue": true,
    "showStatusActivities": false,
    "showErrors": false,
    "parseStrings": false,
    "historyDays": 1,
    "x": 450,
    "y": 3420,
    "wires": [["7293ef91fc3438c3"]]
  },
  {
    "id": "a7410cc13a178ccd",
    "type": "OPCUA-IIoT-Read",
    "z": "10b3ef7af9388b5a",
    "attributeId": "13",
    "maxAge": 1,
    "depth": 1,
    "connector": "8402a36728a1a1f8",
    "name": "",
    "justValue": true,
    "showStatusActivities": false,
    "showErrors": false,
    "parseStrings": false,
    "historyDays": 1,
    "x": 370,
    "y": 500,
    "wires": [["4a73688abda770eb"]]
  },
  {
    "id": "9bc1abc59f941484",
    "type": "OPCUA-IIoT-Read",
    "z": "10b3ef7af9388b5a",
    "attributeId": "13",
    "maxAge": 1,
    "depth": 1,
    "connector": "8402a36728a1a1f8",
    "name": "",
    "justValue": true,
    "showStatusActivities": false,
    "showErrors": false,
    "parseStrings": false,
    "historyDays": 1,
    "x": 510,
    "y": 860,
    "wires": [["c786a7c04ef10559"]]
  },
  {
    "id": "a2150bafa4dba632",
    "type": "OPCUA-IIoT-Read",
    "z": "10b3ef7af9388b5a",
    "attributeId": "13",
    "maxAge": 1,
    "depth": 1,
    "connector": "8402a36728a1a1f8",
    "name": "",
    "justValue": true,
    "showStatusActivities": false,
    "showErrors": false,
    "parseStrings": false,
    "historyDays": 1,
    "x": 530,
    "y": 1340,
    "wires": [["42790ec5edcd955c"]]
  },
  {
    "id": "355c7522ceb0ec6e",
    "type": "OPCUA-IIoT-Read",
    "z": "10b3ef7af9388b5a",
    "attributeId": "13",
    "maxAge": 1,
    "depth": 1,
    "connector": "8402a36728a1a1f8",
    "name": "",
    "justValue": true,
    "showStatusActivities": false,
    "showErrors": false,
    "parseStrings": false,
    "historyDays": 1,
    "x": 470,
    "y": 2020,
    "wires": [["c6cfa5113eb17a77"]]
  },
  {
    "id": "c46670079b413678",
    "type": "OPCUA-IIoT-Read",
    "z": "10b3ef7af9388b5a",
    "attributeId": "0",
    "maxAge": 1,
    "depth": 1,
    "connector": "8402a36728a1a1f8",
    "name": "",
    "justValue": true,
    "showStatusActivities": false,
    "showErrors": false,
    "parseStrings": false,
    "historyDays": 1,
    "x": 520,
    "y": 20,
    "wires": [["bb48a120ef98eabb"]]
  },
  {
    "id": "9f72eed396ccb647",
    "type": "OPCUA-IIoT-Read",
    "z": "10b3ef7af9388b5a",
    "attributeId": "13",
    "maxAge": 1,
    "depth": 1,
    "connector": "8402a36728a1a1f8",
    "name": "",
    "justValue": true,
    "showStatusActivities": false,
    "showErrors": false,
    "parseStrings": false,
    "historyDays": 1,
    "x": 480,
    "y": 1680,
    "wires": [["2337a25795251b7c"]]
  },
  {
    "id": "de8fcdc8c6878e80",
    "type": "OPCUA-IIoT-Read",
    "z": "10b3ef7af9388b5a",
    "attributeId": "13",
    "maxAge": 1,
    "depth": 1,
    "connector": "8402a36728a1a1f8",
    "name": "",
    "justValue": true,
    "showStatusActivities": false,
    "showErrors": false,
    "parseStrings": false,
    "historyDays": 1,
    "x": 470,
    "y": 3000,
    "wires": [["a8b3ebbff49017c8"]]
  },
  {
    "id": "cbb441d6b593ccd0",
    "type": "OPCUA-IIoT-Read",
    "z": "10b3ef7af9388b5a",
    "attributeId": "13",
    "maxAge": 1,
    "depth": 1,
    "connector": "8402a36728a1a1f8",
    "name": "",
    "justValue": true,
    "showStatusActivities": false,
    "showErrors": false,
    "parseStrings": false,
    "historyDays": 1,
    "x": 410,
    "y": 2560,
    "wires": [["407241cc1eea60a2"]]
  },
  {
    "id": "15af7c168ae81341",
    "type": "OPCUA-IIoT-Read",
    "z": "10b3ef7af9388b5a",
    "attributeId": "13",
    "maxAge": 1,
    "depth": 1,
    "connector": "8402a36728a1a1f8",
    "name": "",
    "justValue": true,
    "showStatusActivities": false,
    "showErrors": false,
    "parseStrings": false,
    "historyDays": 1,
    "x": 470,
    "y": 2160,
    "wires": [["a0341083f6c66174"]]
  },
  {
    "id": "fcacaac3efecb766",
    "type": "OPCUA-IIoT-Read",
    "z": "10b3ef7af9388b5a",
    "attributeId": "0",
    "maxAge": 1,
    "depth": 1,
    "connector": "95ce064ce319bd49",
    "name": "",
    "justValue": true,
    "showStatusActivities": false,
    "showErrors": false,
    "parseStrings": false,
    "historyDays": 1,
    "x": 510,
    "y": 160,
    "wires": [["d233b39f3ff9b592"]]
  },
  {
    "id": "f363911b72bbda7a",
    "type": "OPCUA-IIoT-Read",
    "z": "10b3ef7af9388b5a",
    "attributeId": "0",
    "maxAge": 1,
    "depth": 1,
    "connector": "95ce064ce319bd49",
    "name": "",
    "justValue": true,
    "showStatusActivities": false,
    "showErrors": false,
    "parseStrings": false,
    "historyDays": 1,
    "x": 510,
    "y": 340,
    "wires": [["9e662174f2c6f6e5"]]
  },
  {
    "id": "281bb8063a85bef9",
    "type": "mqtt-broker",
    "name": "pub mc 9",
    "broker": "mqtt://localhost:1883",
    "port": 1883,
    "clientid": "",
    "autoConnect": true,
    "usetls": false,
    "protocolVersion": 4,
    "keepalive": 60,
    "cleansession": true,
    "autoUnsubscribe": true,
    "birthTopic": "",
    "birthQos": "2",
    "birthRetain": "false",
    "birthPayload": "msg.payload",
    "birthMsg": {},
    "closeTopic": "",
    "closeQos": "0",
    "closeRetain": "false",
    "closePayload": "",
    "closeMsg": {},
    "willTopic": "",
    "willQos": "0",
    "willRetain": "false",
    "willPayload": "",
    "willMsg": {},
    "userProps": "",
    "sessionExpiry": ""
  },
  {
    "id": "8402a36728a1a1f8",
    "type": "OPCUA-IIoT-Connector",
    "discoveryUrl": "",
    "endpoint": "opc.tcp://192.168.1.2:48060/",
    "endpointMustExist": false,
    "keepSessionAlive": true,
    "loginEnabled": false,
    "name": "LOCAL SERVER",
    "showErrors": false,
    "securityPolicy": "None",
    "securityMode": "None",
    "individualCerts": false,
    "publicCertificateFile": "",
    "privateKeyFile": "",
    "defaultSecureTokenLifetime": "",
    "autoSelectRightEndpoint": false,
    "strategyMaxRetry": "",
    "strategyInitialDelay": "",
    "strategyMaxDelay": "",
    "strategyRandomisationFactor": "",
    "requestedSessionTimeout": "",
    "connectionStartDelay": "",
    "reconnectDelay": "",
    "maxBadSessionRequests": 10
  },
  {
    "id": "95ce064ce319bd49",
    "type": "OPCUA-IIoT-Connector",
    "discoveryUrl": "",
    "endpoint": "opc.tcp://192.168.1.2:4840/",
    "endpointMustExist": false,
    "keepSessionAlive": true,
    "loginEnabled": false,
    "name": "2&3",
    "showErrors": false,
    "securityPolicy": "None",
    "securityMode": "None",
    "individualCerts": false,
    "publicCertificateFile": "",
    "privateKeyFile": "",
    "defaultSecureTokenLifetime": "",
    "autoSelectRightEndpoint": false,
    "strategyMaxRetry": "",
    "strategyInitialDelay": "",
    "strategyMaxDelay": "",
    "strategyRandomisationFactor": "",
    "requestedSessionTimeout": "",
    "connectionStartDelay": "",
    "reconnectDelay": "",
    "maxBadSessionRequests": 10
  }
]
